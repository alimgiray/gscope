{{define "project_emails"}}
{{template "header" .}}

<div class="card">
    <div class="flex justify-between items-center">
        <div class="card-header">Emails - {{.Project.Name}}</div>
        <a href="/projects/{{.Project.ID}}" class="text-green-400 hover:text-green-300 text-xs">‚Üê Back to Project</a>
    </div>
    <div class="text-xs text-gray-400 mt-2">
        All emails from commits in this project
    </div>
</div>

<!-- Emails Section -->
<div class="card mt-4">
    <div class="card-header">Emails</div>
    <div class="card-body">
        {{if .Emails}}
            <div class="space-y-2">
                {{range .Emails}}
                <div class="flex justify-between items-center p-2 border border-gray-600 rounded">
                    <div class="flex-1">
                        <div class="flex items-center gap-2">
                            <span class="text-sm font-mono">{{.Email}}</span>
                            {{if .Name}}
                                <span class="text-xs text-gray-400">({{.Name}})</span>
                            {{end}}
                        </div>
                        <div class="text-xs text-gray-400 mt-1">
                            Commits: {{.CommitCount}}
                        </div>
                        {{if .FirstCommit}}
                            <div class="text-xs text-gray-400 mt-1">
                                First commit: {{.FirstCommit.Format "2006-01-02 15:04:05"}}
                            </div>
                        {{end}}
                        {{if .LastCommit}}
                            <div class="text-xs text-gray-400 mt-1">
                                Last commit: {{.LastCommit.Format "2006-01-02 15:04:05"}}
                            </div>
                        {{end}}
                    </div>
                </div>
                {{end}}
            </div>
        {{else}}
            <p class="text-xs text-gray-400">No emails found. Clone repositories and analyze commits to see emails.</p>
        {{end}}
    </div>
</div>

{{template "footer" .}}
{{end}} 